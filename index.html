<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LS4YOU - Le Jeu des Valeurs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ls-red: #FF4B5C;
            --ls-yellow: #FFD166;
            --ls-turquoise: #46e3cf;
            --ls-dark: #1A1A1A;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
            color: var(--ls-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Montserrat', sans-serif; font-weight: 800; }

        .halo {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.12;
            z-index: -1;
            pointer-events: none;
        }

        .value-card {
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            background: white;
            border: 2px solid #f1f5f9;
            user-select: none;
        }
        .value-card:active { cursor: grabbing; transform: scale(0.95); }
        .value-card.dragging { opacity: 0.5; transform: scale(0.9); }

        .drop-zone {
            height: 100%; /* S'adapte au conteneur parent */
            border-radius: 32px;
            background: rgba(255, 255, 255, 0.5);
            border: 2px dashed #e2e8f0;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            padding: 1.5rem;
        }
        .drop-zone.over {
            border-color: var(--ls-turquoise);
            background: rgba(70, 227, 207, 0.05);
            transform: scale(1.01);
        }

        .zone-ignore { border-color: #cbd5e1; }
        .zone-important { border-color: var(--ls-yellow); }
        .zone-essential { border-color: var(--ls-red); }

        .btn-primary {
            background-color: var(--ls-red);
            color: white;
            border-radius: 50px;
            padding: 1.25rem 3.5rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            box-shadow: 0 10px 25px rgba(255, 75, 92, 0.2);
        }
        .btn-primary:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 15px 35px rgba(255, 75, 92, 0.3); }
        .btn-primary:disabled { opacity: 0.2; cursor: not-allowed; }

        /* Style de la petite r√©glette (scrollbar personnalis√©e) */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.02);
            border-radius: 10px;
            margin: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--ls-turquoise);
            border-radius: 10px;
            opacity: 0.5;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--ls-red);
        }

        footer { background: #1a1a1a; color: white; padding: 1.5rem 4rem; font-size: 11px; z-index: 50; }

        @media print { .no-print { display: none !important; } }
    </style>
</head>
<body class="antialiased">

    <!-- Header Institutionnel -->
    <header class="bg-white border-b px-12 py-6 flex justify-between items-center sticky top-0 z-50 no-print">
        <div class="flex items-center gap-6">
            <img src="https://www.lifeskills4youth.eu/wp-content/uploads/2024/07/LS4YOU_Logo_whiteback.jpg" alt="Logo LS4YOU" class="h-10">
            <div class="h-8 w-[2px] bg-slate-100"></div>
            <div>
                <h1 class="text-xl tracking-tighter uppercase leading-none text-slate-800">Ma Boussole de Valeurs</h1>
                <p class="text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1 italic">Trier ses priorit√©s pour ne plus subir</p>
            </div>
        </div>
        <div class="flex items-center gap-8">
            <div id="stat-counter" class="text-[10px] font-800 uppercase text-slate-400 bg-slate-50 px-4 py-2 rounded-full border">
                Cartes tri√©es : <span id="count" class="text-ls-red">0</span> / 32
            </div>
            <img src="https://static.wixstatic.com/media/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif/v1/fill/w_224,h_60,al_c,q_80,enc_avif,quality_auto/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif" alt="Logo MLPB" class="h-8">
        </div>
    </header>

    <main class="flex-grow relative overflow-hidden flex flex-col no-print">
        <div class="halo w-[600px] h-[600px] bg-[var(--ls-yellow)] -top-20 -right-20"></div>
        <div class="halo w-[500px] h-[500px] bg-[var(--ls-turquoise)] -bottom-20 -left-20"></div>

        <div id="view-container" class="flex-grow flex flex-col p-8 gap-8 h-full">
            <div id="sorting-view" class="grid grid-cols-12 gap-8 h-full">
                
                <!-- Colonne 1 : La Banque (32 Valeurs) -->
                <div class="col-span-3 flex flex-col h-[calc(100vh-250px)]">
                    <h3 class="text-sm font-800 uppercase mb-4 flex items-center gap-2">
                        <i data-lucide="layers" class="w-4 h-4 text-ls-red"></i> Banque
                    </h3>
                    <div id="bank" class="flex-grow overflow-y-auto pr-2 space-y-3 custom-scrollbar" ondrop="app.onDrop(event, 'bank')" ondragover="app.onDragOver(event)">
                        <!-- Valeurs inject√©es ici -->
                    </div>
                </div>

                <!-- Les 3 zones de d√©p√¥t -->
                <div class="col-span-9 grid grid-cols-3 gap-6 h-[calc(100vh-250px)]">
                    
                    <div class="flex flex-col h-full overflow-hidden">
                        <h3 class="text-xs font-800 uppercase mb-4 text-slate-400 px-4">‚ö™ Pas pour moi</h3>
                        <div id="zone-ignore" class="drop-zone zone-ignore overflow-y-auto custom-scrollbar" ondrop="app.onDrop(event, 'ignore')" ondragover="app.onDragOver(event)"></div>
                    </div>

                    <div class="flex flex-col h-full overflow-hidden">
                        <h3 class="text-xs font-800 uppercase mb-4 text-ls-yellow px-4">üü° Important</h3>
                        <div id="zone-important" class="drop-zone zone-important overflow-y-auto custom-scrollbar" ondrop="app.onDrop(event, 'important')" ondragover="app.onDragOver(event)"></div>
                    </div>

                    <div class="flex flex-col h-full overflow-hidden">
                        <h3 class="text-xs font-800 uppercase mb-4 text-ls-red px-4">üî¥ Essentiel (Top 3)</h3>
                        <div id="zone-essential" class="drop-zone zone-essential overflow-y-auto custom-scrollbar" ondrop="app.onDrop(event, 'essential')" ondragover="app.onDragOver(event)"></div>
                    </div>

                </div>
            </div>
        </div>

        <div class="bg-white border-t p-6 flex justify-between items-center no-print">
            <div class="flex flex-col">
                <p class="text-xs text-slate-800 font-bold uppercase tracking-tight">Utilise les r√©glettes pour faire d√©filer tes choix</p>
                <p class="text-[10px] text-slate-400 font-medium italic">Place tes 3 piliers non-n√©gociables dans la zone rouge.</p>
            </div>
            <button id="btn-next" onclick="app.finishSorting()" class="btn-primary" disabled>Finaliser mon profil</button>
        </div>
    </main>

    <div id="results-view" class="hidden flex-grow animate-fade overflow-y-auto p-12 bg-white flex flex-col items-center">
        <!-- Contenu g√©n√©r√© dynamiquement -->
    </div>

    <footer class="no-print">
        <div class="flex justify-between items-center opacity-70">
            <div class="flex items-center gap-4 border border-white/20 p-2 rounded">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" alt="EU" class="w-8">
                <span class="font-bold text-[9px]">Co-financ√© par l'Union Europ√©enne</span>
            </div>
            <div class="text-right text-[9px]">¬© 2026 Projet LS4YOU ‚Ä¢ Life Skills For Youth</div>
        </div>
    </footer>

    <script>
        const VALUES_LIST = [
            { label: "Argent", desc: "Gagner un salaire qui me permet de vivre bien." },
            { label: "Respect", desc: "√ätre trait√© avec politesse et consid√©ration." },
            { label: "Autonomie", desc: "Pouvoir organiser mon travail par moi-m√™me." },
            { label: "Ambiance", desc: "Avoir de bonnes relations avec mes coll√®gues." },
            { label: "Stabilit√©", desc: "Avoir un contrat s√ªr sur le long terme." },
            { label: "√âvolution", desc: "Avoir des chances de monter en responsabilit√©s." },
            { label: "Utilit√©", desc: "Sentir que mon travail aide vraiment les gens." },
            { label: "Libert√©", desc: "Avoir des horaires ou un cadre de travail souple." },
            { label: "S√©curit√©", desc: "Travailler dans un environnement sans danger." },
            { label: "Apprendre", desc: "Pouvoir me former et acqu√©rir de nouveaux savoirs." },
            { label: "Vari√©t√©", desc: "Faire des t√¢ches diff√©rentes pour ne pas m'ennuyer." },
            { label: "Justice", desc: "√ätre trait√© de fa√ßon √©quitable par mon employeur." },
            { label: "Cr√©ativit√©", desc: "Pouvoir proposer des id√©es originales." },
            { label: "√âquit√©", desc: "Que les efforts de chacun soient r√©compens√©s justement." },
            { label: "D√©fi", desc: "Relever des challenges qui me font progresser." },
            { label: "Calme", desc: "Travailler dans un environnement apais√©." },
            { label: "Solidarit√©", desc: "S'entraider entre coll√®gues pour r√©ussir ensemble." },
            { label: "Reconnaissance", desc: "Que mes efforts soient vus et appr√©ci√©s." },
            { label: "√âcoute", desc: "Pouvoir exprimer mon avis et √™tre entendu." },
            { label: "Bienveillance", desc: "Travailler dans un climat de gentillesse." },
            { label: "Honn√™tet√©", desc: "Que la franchise soit la base des relations." },
            { label: "Engagement", desc: "Participer √† une cause qui me tient √† c≈ìur." },
            { label: "Nature", desc: "Travailler en ext√©rieur ou pour l'environnement." },
            { label: "Partage", desc: "Transmettre mon savoir ou partager des ressources." },
            { label: "Pouvoir", desc: "Avoir une influence sur les d√©cisions importantes." },
            { label: "Responsabilit√©", desc: "√ätre garant du succ√®s d'une mission." },
            { label: "Pr√©cision", desc: "Faire un travail m√©ticuleux et de qualit√©." },
            { label: "Innovation", desc: "Inventer les outils ou les m√©thodes de demain." },
            { label: "Flexibilit√©", desc: "Pouvoir m'adapter aux changements facilement." },
            { label: "Tradition", desc: "Respecter des savoir-faire transmis depuis longtemps." },
            { label: "Transparence", desc: "Que les informations soient partag√©es avec franchise." },
            { label: "Vitesse", desc: "Travailler dans un rythme rapide et dynamique." }
        ];

        let state = {
            bank: [...VALUES_LIST],
            ignore: [],
            important: [],
            essential: []
        };

        const app = {
            init() {
                this.renderBank();
                lucide.createIcons();
            },

            renderBank() {
                const bankEl = document.getElementById('bank');
                bankEl.innerHTML = state.bank.map(v => this.createCardHtml(v)).join('');
            },

            createCardHtml(v) {
                return `
                    <div id="card-${v.label}" class="value-card p-4 rounded-2xl shadow-sm border border-slate-100" 
                         draggable="true" ondragstart="app.onDragStart(event, '${v.label}')">
                        <div class="font-bold text-sm text-slate-800 mb-1">${v.label}</div>
                        <div class="text-[10px] text-slate-400 leading-tight font-medium">${v.desc}</div>
                    </div>
                `;
            },

            onDragStart(e, label) {
                e.dataTransfer.setData('text/plain', label);
                e.target.classList.add('dragging');
            },

            onDragOver(e) {
                e.preventDefault();
                e.currentTarget.classList.add('over');
            },

            onDrop(e, zoneId) {
                e.preventDefault();
                document.querySelectorAll('.drop-zone, #bank').forEach(z => z.classList.remove('over'));
                
                const label = e.dataTransfer.getData('text/plain');
                const card = document.getElementById(`card-${label}`);
                if(!card) return;
                card.classList.remove('dragging');

                const valObj = VALUES_LIST.find(v => v.label === label);

                // Retirer de tous les √©tats
                state.bank = state.bank.filter(v => v.label !== label);
                state.ignore = state.ignore.filter(v => v.label !== label);
                state.important = state.important.filter(v => v.label !== label);
                state.essential = state.essential.filter(v => v.label !== label);

                // Ajouter au nouvel √©tat
                if (zoneId === 'bank') state.bank.push(valObj);
                else state[zoneId].push(valObj);
                
                // D√©placer visuellement
                const target = zoneId === 'bank' ? document.getElementById('bank') : document.getElementById(`zone-${zoneId}`);
                target.appendChild(card);

                this.updateCounters();
            },

            updateCounters() {
                const totalSorted = state.ignore.length + state.important.length + state.essential.length;
                document.getElementById('count').innerText = totalSorted;
                document.getElementById('btn-next').disabled = state.essential.length < 3;
            },

            finishSorting() {
                document.querySelector('main').classList.add('hidden');
                const resultsView = document.getElementById('results-view');
                resultsView.classList.remove('hidden');

                const top3 = state.essential.slice(0, 3);
                
                resultsView.innerHTML = `
                    <div class="max-w-5xl w-full flex flex-col items-center">
                        <div class="w-24 h-24 bg-ls-turquoise rounded-full flex items-center justify-center mb-6 text-white shadow-lg animate-pop">
                            <i data-lucide="award" class="w-12 h-12"></i>
                        </div>
                        <h2 class="text-5xl tracking-tighter uppercase mb-2 text-center">Mes Piliers de <span class="text-ls-red">R√©ussite</span></h2>
                        <p class="text-slate-500 text-lg font-medium mb-12 text-center">Voici les 3 valeurs essentielles qui guideront mes choix professionnels.</p>

                        <div class="flex justify-center gap-6 mb-16 w-full">
                            ${top3.map((v, i) => `
                                <div class="ls-card p-10 flex-1 border-b-8 border-ls-red flex flex-col items-center text-center">
                                    <span class="text-slate-100 font-800 text-5xl block mb-4">0${i+1}</span>
                                    <h3 class="text-2xl font-bold uppercase tracking-tight text-slate-800 mb-4">${v.label}</h3>
                                    <p class="text-sm text-slate-400 leading-relaxed font-medium italic">"${v.desc}"</p>
                                </div>
                            `).join('')}
                        </div>

                        <div class="ls-card p-10 bg-slate-900 text-white w-full flex gap-8 items-center border-l-[16px] border-ls-turquoise">
                            <i data-lucide="megaphone" class="w-12 h-12 text-ls-turquoise opacity-50 shrink-0"></i>
                            <div>
                                <h4 class="text-xs font-800 uppercase text-ls-turquoise mb-2 tracking-widest">Ma posture en entretien</h4>
                                <p class="text-xl italic font-medium leading-relaxed opacity-90">
                                    "Je recherche un poste o√π le <b>${top3[0].label}</b> et le <b>${top3[1].label}</b> sont respect√©s, car ce sont les conditions de ma motivation et de mon efficacit√©."
                                </p>
                            </div>
                        </div>

                        <div class="mt-16 flex gap-4 no-print pb-10">
                            <button onclick="window.print()" class="px-8 py-4 border-2 border-slate-200 rounded-full font-bold uppercase tracking-widest text-[10px] flex items-center gap-2 hover:bg-slate-50 transition-all text-slate-400">
                                <i data-lucide="download"></i> Sauvegarder ma fiche
                            </button>
                            <button onclick="location.reload()" class="btn-primary py-4 px-10 text-xs">Recommencer</button>
                        </div>
                    </div>
                `;
                lucide.createIcons();
            }
        };

        window.onload = () => app.init();
    </script>
</body>
</html>
