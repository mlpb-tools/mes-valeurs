<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Aventure Emploi - LS4YOU</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary-red: #E63946;
            --color-primary-yellow: #FFD166;
            --color-primary-turquoise: #06D6A0;
            --color-accent-coral: #FF6B9D;
            --color-white: #FFFFFF;
            --color-bg-light: #F8F9FA;
            --color-text-dark: #1D3557;
            --color-text-medium: #457B9D;
            --color-text-light: #6C757D;
            
            --radius-small: 12px;
            --radius-medium: 20px;
            --radius-large: 30px;
            --radius-xl: 50px;
            
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
            --shadow-strong: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--color-white);
            color: var(--color-text-dark);
            overflow-x: hidden;
            position: relative;
        }

        /* Background Decoration */
        body::before {
            content: '';
            position: fixed;
            top: -10%;
            right: -5%;
            width: 600px;
            height: 600px;
            background: var(--color-primary-yellow);
            opacity: 0.15;
            border-radius: 50%;
            z-index: -1;
            filter: blur(80px);
        }

        body::after {
            content: '';
            position: fixed;
            bottom: -15%;
            left: -10%;
            width: 700px;
            height: 700px;
            background: var(--color-primary-turquoise);
            opacity: 0.12;
            border-radius: 50%;
            z-index: -1;
            filter: blur(90px);
        }

        .app-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Top Navigation */
        .top-nav {
            background: white;
            border-radius: var(--radius-medium);
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-soft);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo-mlpb {
            height: 50px;
        }

        .logo-ls4you {
            height: 35px;
        }

        /* Hero Section */
        .hero {
            background: var(--color-white);
            border-radius: var(--radius-large);
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            margin-bottom: 30px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: var(--color-primary-yellow);
            opacity: 0.3;
            border-radius: 50%;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-emoji {
            font-size: 5em;
            margin-bottom: 20px;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .hero-title {
            font-size: 2.5em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.15em;
            color: var(--color-text-medium);
            font-weight: 500;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Progress Bar */
        .progress-section {
            background: var(--color-white);
            border-radius: var(--radius-medium);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-soft);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .progress-badge {
            background: linear-gradient(135deg, var(--color-primary-turquoise), #04B88A);
            color: white;
            padding: 10px 20px;
            border-radius: var(--radius-xl);
            font-weight: 700;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        .progress-score {
            font-size: 1.5em;
            font-weight: 800;
            color: var(--color-primary-red);
        }

        .progress-bar-track {
            background: #F0F0F0;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-fill {
            background: linear-gradient(90deg, var(--color-primary-turquoise), var(--color-primary-yellow));
            height: 100%;
            transition: width 0.6s cubic-bezier(0.65, 0, 0.35, 1);
            border-radius: 6px;
        }

        /* Card Components */
        .card {
            background: var(--color-white);
            border-radius: var(--radius-medium);
            padding: 40px;
            box-shadow: var(--shadow-soft);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            bottom: -30px;
            left: -30px;
            width: 100px;
            height: 100px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 0 L100 50 L50 100 L0 50 Z" fill="%2306D6A0" opacity="0.1"/></svg>');
            opacity: 0.5;
        }

        .card-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .card-chapter {
            display: inline-block;
            background: var(--color-bg-light);
            color: var(--color-primary-turquoise);
            padding: 8px 20px;
            border-radius: var(--radius-xl);
            font-weight: 700;
            font-size: 0.85em;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 15px;
        }

        .card-emoji {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 2em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .card-description {
            background: linear-gradient(135deg, #F8F9FA, #E8F4F8);
            padding: 25px;
            border-radius: var(--radius-medium);
            border-left: 4px solid var(--color-primary-turquoise);
            margin-bottom: 20px;
            font-size: 1.05em;
            line-height: 1.7;
            color: var(--color-text-dark);
        }

        .context-callout {
            background: #FFF8E6;
            border-left: 4px solid var(--color-primary-yellow);
            padding: 20px;
            border-radius: var(--radius-medium);
            margin-bottom: 25px;
            font-size: 0.95em;
        }

        .context-callout strong {
            color: var(--color-primary-red);
            font-weight: 700;
        }

        /* Choice Cards */
        .choices-grid {
            display: grid;
            gap: 15px;
            margin-top: 30px;
        }

        .choice-card {
            background: var(--color-white);
            border: 3px solid #E8E8E8;
            border-radius: var(--radius-medium);
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        .choice-card:hover {
            border-color: var(--color-primary-turquoise);
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
        }

        .choice-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--color-primary-turquoise) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: var(--radius-medium);
            pointer-events: none;
        }

        .choice-card:hover::after {
            opacity: 0.05;
        }

        .choice-icon {
            font-size: 3em;
            flex-shrink: 0;
            width: 70px;
            text-align: center;
        }

        .choice-text {
            flex: 1;
            font-weight: 600;
            font-size: 1.05em;
            color: var(--color-text-dark);
            line-height: 1.5;
        }

        .choice-card.selected {
            background: linear-gradient(135deg, var(--color-primary-turquoise), #04B88A);
            border-color: var(--color-primary-turquoise);
            color: white;
        }

        .choice-card.selected .choice-text {
            color: white;
        }

        .choice-card.correct {
            background: linear-gradient(135deg, #06D6A0, #04B88A);
            border-color: #06D6A0;
            color: white;
            animation: successBounce 0.6s ease;
        }

        .choice-card.correct .choice-text {
            color: white;
        }

        .choice-card.incorrect {
            background: linear-gradient(135deg, var(--color-primary-red), #D62839);
            border-color: var(--color-primary-red);
            color: white;
            animation: shake 0.5s ease;
        }

        .choice-card.incorrect .choice-text {
            color: white;
        }

        @keyframes successBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .choice-card.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Feedback Box */
        .feedback-box {
            margin-top: 25px;
            padding: 30px;
            border-radius: var(--radius-medium);
            display: none;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback-box.visible {
            display: block;
        }

        .feedback-box.success {
            background: linear-gradient(135deg, #D3F9E8, #B2F2D8);
            border-left: 5px solid var(--color-primary-turquoise);
        }

        .feedback-box.error {
            background: linear-gradient(135deg, #FFE8E8, #FFDADA);
            border-left: 5px solid var(--color-primary-red);
        }

        .feedback-title {
            font-weight: 800;
            font-size: 1.3em;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .feedback-text {
            line-height: 1.7;
            font-size: 1.05em;
        }

        /* Buttons */
        .btn {
            border: none;
            border-radius: var(--radius-xl);
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary-red), #D62839);
            color: white;
            padding: 18px 45px;
            width: 100%;
            margin-top: 25px;
            box-shadow: 0 4px 15px rgba(230, 57, 70, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(230, 57, 70, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: white;
            border: 3px solid var(--color-primary-turquoise);
            color: var(--color-primary-turquoise);
            padding: 15px 35px;
        }

        .btn-secondary:hover {
            background: var(--color-primary-turquoise);
            color: white;
        }

        .btn-large {
            padding: 25px 60px;
            font-size: 1.3em;
            box-shadow: var(--shadow-medium);
        }

        /* Input */
        .input-group {
            margin: 30px 0;
        }

        .input-field {
            width: 100%;
            max-width: 500px;
            padding: 18px 25px;
            font-size: 1.2em;
            border: 3px solid #E8E8E8;
            border-radius: var(--radius-medium);
            text-align: center;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            color: var(--color-text-dark);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--color-primary-turquoise);
            box-shadow: 0 0 0 4px rgba(6, 214, 160, 0.1);
        }

        /* Values Grid */
        .values-counter {
            background: linear-gradient(135deg, #F8F9FA, #E8F4F8);
            padding: 20px;
            border-radius: var(--radius-medium);
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
            font-size: 1.1em;
            color: var(--color-primary-turquoise);
        }

        .values-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .value-card {
            background: var(--color-white);
            border: 3px solid #E8E8E8;
            border-radius: var(--radius-medium);
            padding: 20px;
            cursor: move;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .value-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
            border-color: var(--color-primary-turquoise);
        }

        .value-card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .value-icon {
            font-size: 3em;
            margin-bottom: 12px;
        }

        .value-name {
            font-weight: 700;
            font-size: 1.1em;
            color: var(--color-text-dark);
            margin-bottom: 10px;
        }

        .value-example {
            font-size: 0.85em;
            color: var(--color-text-light);
            line-height: 1.5;
            font-style: italic;
        }

        /* Drop Zones */
        .drop-zone {
            border: 3px dashed #D0D0D0;
            border-radius: var(--radius-medium);
            padding: 30px;
            min-height: 200px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            background: var(--color-bg-light);
        }

        .drop-zone.drag-over {
            border-color: var(--color-primary-turquoise);
            background: #E8F4F8;
            border-style: solid;
        }

        .zone-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            font-weight: 800;
            font-size: 1.3em;
        }

        .zone-hint {
            color: var(--color-text-medium);
            font-size: 0.9em;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .zone-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .zone-essential {
            border-color: var(--color-primary-red);
            background: linear-gradient(135deg, #FFF5F5, #FFE8E8);
        }

        .zone-essential .zone-header {
            color: var(--color-primary-red);
        }

        .zone-important {
            border-color: var(--color-primary-yellow);
            background: linear-gradient(135deg, #FFFDF0, #FFF8E6);
        }

        .zone-important .zone-header {
            color: #E6A700;
        }

        .zone-secondary {
            border-color: var(--color-primary-turquoise);
            background: linear-gradient(135deg, #F0FFFC, #E8F9F5);
        }

        .zone-secondary .zone-header {
            color: var(--color-primary-turquoise);
        }

        /* Results */
        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-emoji {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .results-title {
            font-size: 2.5em;
            font-weight: 800;
            color: var(--color-text-dark);
            margin-bottom: 10px;
        }

        .results-subtitle {
            font-size: 1.2em;
            color: var(--color-text-medium);
            font-weight: 500;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .score-card {
            background: linear-gradient(135deg, #F8F9FA, #E8F4F8);
            padding: 30px;
            border-radius: var(--radius-medium);
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .score-value {
            font-size: 3.5em;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary-turquoise), var(--color-primary-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .score-label {
            font-size: 1em;
            color: var(--color-text-medium);
            font-weight: 600;
        }

        .message-box {
            background: linear-gradient(135deg, #FFF8E6, #FFE69C);
            padding: 30px;
            border-radius: var(--radius-medium);
            margin: 30px 0;
            border-left: 5px solid var(--color-primary-yellow);
        }

        .message-title {
            font-size: 1.5em;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--color-text-dark);
        }

        .tips-box {
            background: white;
            border: 3px solid var(--color-primary-turquoise);
            padding: 30px;
            border-radius: var(--radius-medium);
            margin-top: 30px;
        }

        .tips-title {
            font-size: 1.4em;
            font-weight: 800;
            color: var(--color-primary-turquoise);
            margin-bottom: 20px;
        }

        .tip-item {
            padding: 20px;
            margin-bottom: 15px;
            background: var(--color-bg-light);
            border-radius: var(--radius-medium);
            display: flex;
            gap: 20px;
            align-items: start;
        }

        .tip-icon {
            font-size: 2em;
            flex-shrink: 0;
        }

        .tip-text {
            flex: 1;
            line-height: 1.6;
        }

        .tip-text strong {
            color: var(--color-primary-red);
            font-weight: 700;
        }

        /* Value Results Cards */
        .value-result-card {
            background: white;
            border-radius: var(--radius-medium);
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-soft);
        }

        .value-result-header {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .value-result-example {
            font-size: 0.9em;
            color: var(--color-text-light);
            font-style: italic;
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            background: white;
            border-radius: var(--radius-medium);
            padding: 25px;
            margin-top: 40px;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            color: var(--color-text-medium);
            font-size: 0.9em;
        }

        .eu-flag {
            width: 50px;
            height: auto;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-container {
                padding: 15px;
            }

            .hero {
                padding: 40px 25px;
            }

            .hero-title {
                font-size: 2em;
            }

            .card {
                padding: 30px 20px;
            }

            .card-title {
                font-size: 1.6em;
            }

            .choice-card {
                flex-direction: column;
                text-align: center;
            }

            .choice-icon {
                width: auto;
            }

            .values-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
            }

            .zone-content {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }

            .score-grid {
                grid-template-columns: 1fr;
            }

            .btn-large {
                padding: 20px 40px;
                font-size: 1.1em;
            }
        }

        /* Puzzle Decoration */
        .puzzle-decoration {
            position: absolute;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            opacity: 0.15;
        }

        /* Confetti Decoration */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .confetti-1 {
            background: var(--color-primary-red);
            top: 10%;
            right: 15%;
            animation: float 4s ease-in-out infinite;
        }

        .confetti-2 {
            background: var(--color-primary-yellow);
            top: 30%;
            right: 8%;
            animation: float 5s ease-in-out infinite 1s;
        }

        .confetti-3 {
            background: var(--color-primary-turquoise);
            top: 50%;
            right: 12%;
            animation: float 6s ease-in-out infinite 2s;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <nav class="top-nav">
            <img src="https://static.wixstatic.com/media/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif/v1/fill/w_224,h_60,al_c,q_80,enc_avif,quality_auto/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif" alt="Mission Locale Pays Basque" class="logo-mlpb">
            <img src="https://www.lifeskills4you.eu/wp-content/uploads/2024/07/LS4YOU_Logo.png" alt="LS4YOU" class="logo-ls4you">
        </nav>

        <!-- Progress Section -->
        <div class="progress-section hidden" id="progressSection">
            <div class="progress-header">
                <div class="progress-badge" id="progressBadge">Chapitre 1/8</div>
                <div class="progress-score">‚≠ê <span id="scoreDisplay">0</span></div>
            </div>
            <div class="progress-bar-track">
                <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
            </div>
        </div>

        <!-- Name Input Screen -->
        <div class="hero active" id="nameScreen">
            <div class="hero-content">
                <div class="hero-emoji">üëã</div>
                <h1 class="hero-title">Commen√ßons<br>par faire connaissance !</h1>
                <p class="hero-subtitle">
                    Pour personnaliser ton aventure vers l'emploi,<br>
                    dis-nous comment tu t'appelles
                </p>
                <div class="input-group">
                    <input 
                        type="text" 
                        id="nameInput" 
                        class="input-field" 
                        placeholder="Entre ton pr√©nom ici..."
                        maxlength="20"
                        autocomplete="given-name"
                    >
                </div>
                <button class="btn btn-primary btn-large" id="nameSubmitBtn" onclick="submitName()" disabled>
                    C'est parti ! üöÄ
                </button>
            </div>
        </div>

        <!-- Intro Screen -->
        <div class="hero hidden" id="introScreen">
            <div class="hero-content">
                <div class="hero-emoji">üéØ</div>
                <h1 class="hero-title">Bienvenue<br><span id="userName"></span> !</h1>
                <p class="hero-subtitle" style="text-align: left; max-width: 600px; margin: 20px auto;">
                    Tu vas vivre une <strong>aventure en 2 parties</strong> :
                </p>
                <div style="background: linear-gradient(135deg, #F8F9FA, #E8F4F8); padding: 30px; border-radius: var(--radius-medium); margin: 25px auto; max-width: 600px; text-align: left;">
                    <p style="margin-bottom: 20px; line-height: 1.7;">
                        <strong style="color: var(--color-primary-red);">üéÆ Partie 1 : L'Aventure Emploi</strong><br>
                        8 situations concr√®tes pour apprendre les bons r√©flexes (15 min)
                    </p>
                    <p style="line-height: 1.7;">
                        <strong style="color: var(--color-primary-turquoise);">üß≠ Partie 2 : Ma Boussole</strong><br>
                        Identifie tes valeurs essentielles pour faire les bons choix (10 min)
                    </p>
                </div>
                <button class="btn btn-primary btn-large" onclick="startGame()">
                    Commencer l'aventure ‚Üí
                </button>
            </div>
            <div class="confetti confetti-1"></div>
            <div class="confetti confetti-2"></div>
            <div class="confetti confetti-3"></div>
        </div>

        <!-- Game Scenes Container -->
        <div id="gameScenes"></div>

        <!-- Transition Screen -->
        <div class="hero hidden" id="transitionScreen">
            <div class="hero-content">
                <div class="hero-emoji">üéØ</div>
                <h1 class="hero-title">Bravo<br><span id="transitionUserName"></span> !</h1>
                <p class="hero-subtitle">
                    Tu as termin√© la partie Aventure avec<br>
                    <strong style="color: var(--color-primary-red); font-size: 1.5em;" id="transitionScore"></strong> points
                </p>
                <div style="background: linear-gradient(135deg, #FFF8E6, #FFE69C); padding: 30px; border-radius: var(--radius-medium); margin: 30px auto; max-width: 600px; text-align: left; border-left: 5px solid var(--color-primary-yellow);">
                    <h3 style="color: var(--color-text-dark); margin-bottom: 15px; font-weight: 800;">üß≠ Maintenant, identifie tes valeurs</h3>
                    <p style="line-height: 1.7; color: var(--color-text-dark);">
                        Pour faire les <strong>bons choix</strong> et trouver un job o√π tu vas <strong>tenir sur la dur√©e</strong>, 
                        il faut conna√Ætre tes valeurs essentielles.
                    </p>
                    <p style="margin-top: 15px; font-weight: 700; color: var(--color-primary-red);">
                        Ces valeurs vont devenir ta boussole pour dire OUI ou NON.
                    </p>
                </div>
                <button class="btn btn-primary btn-large" onclick="startValuesActivity()">
                    Identifier mes valeurs ‚Üí
                </button>
            </div>
        </div>

        <!-- Values Activity Container -->
        <div id="valuesContainer" class="hidden">
            <div class="card">
                <div class="card-header">
                    <h1 class="card-title">üß≠ Ma Boussole de Valeurs</h1>
                    <p class="hero-subtitle">Identifie tes 3 piliers non-n√©gociables pour le travail</p>
                </div>

                <div class="values-counter" id="valuesCounter">
                    Cartes tri√©es : 0 / 24
                </div>

                <div class="values-grid" id="valueBank"></div>

                <div class="drop-zone zone-essential" id="essentialZone" data-zone="essential">
                    <div class="zone-header">
                        üî¥ Essentiel (exactement 3)
                    </div>
                    <div class="zone-hint">
                        Tes 3 piliers non-n√©gociables - ce qui est OBLIGATOIRE pour toi
                    </div>
                    <div class="zone-content" id="essentialContent"></div>
                </div>

                <div class="drop-zone zone-important" id="importantZone" data-zone="important">
                    <div class="zone-header">
                        üü° Important
                    </div>
                    <div class="zone-hint">
                        Ce qui am√©liore vraiment ta vie au travail - un gros plus
                    </div>
                    <div class="zone-content" id="importantContent"></div>
                </div>

                <div class="drop-zone zone-secondary" id="secondaryZone" data-zone="secondary">
                    <div class="zone-header">
                        ‚ö™ Pas pour moi
                    </div>
                    <div class="zone-hint">
                        Secondaire ou pas important dans ton cas
                    </div>
                    <div class="zone-content" id="secondaryContent"></div>
                </div>

                <button class="btn btn-primary" id="valuesFinishBtn" onclick="finishValues()" disabled>
                    Finaliser mon profil et voir mes r√©sultats ‚Üí
                </button>

                <svg class="puzzle-decoration" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 0 L100 50 L50 100 L0 50 Z" fill="#06D6A0"/>
                </svg>
            </div>
        </div>

        <!-- End Screen Container -->
        <div id="endScreen" class="hidden"></div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" alt="UE" class="eu-flag">
                <span>Co-financ√© par l'Union Europ√©enne</span>
                <span>¬© 2026 Projet LS4YOU</span>
            </div>
        </div>
    </div>

    <script>
        // DATA
        const valuesData = [
            { id: 1, name: 'Bon salaire', icon: 'üí∞', example: 'Ex: Gagner assez pour √™tre autonome et me faire plaisir' },
            { id: 2, name: 'Horaires fixes', icon: 'üïê', example: 'Ex: Finir √† 17h tous les jours, pas de variables' },
            { id: 3, name: 'Ambiance cool', icon: 'üòä', example: 'Ex: Pouvoir rigoler avec les coll√®gues, pas de pression' },
            { id: 4, name: 'Proche de chez moi', icon: 'üè†', example: 'Ex: Max 20 min de trajet, pas 2h de bus' },
            { id: 5, name: '√ätre utile', icon: 'üí´', example: 'Ex: Aider les gens, sentir que mon job a du sens' },
            { id: 6, name: 'Respect', icon: 'ü§ù', example: 'Ex: Pas de m√©pris, √™tre trait√© comme un adulte' },
            { id: 7, name: 'CDI s√©curis√©', icon: 'üõ°Ô∏è', example: 'Ex: Pas de CDD qui s\'encha√Ænent, de la stabilit√©' },
            { id: 8, name: 'Temps libre', icon: '‚è∞', example: 'Ex: Pas d\'heures sup, garder du temps pour ma vie perso' },
            { id: 9, name: 'Apprendre', icon: 'üìö', example: 'Ex: D√©velopper des comp√©tences, √©voluer' },
            { id: 10, name: '√ätre autonome', icon: 'üöÄ', example: 'Ex: Pas de micro-management, me d√©brouiller seul¬∑e' },
            { id: 11, name: 'Travailler en √©quipe', icon: 'üë•', example: 'Ex: Pas √™tre isol√©¬∑e, avoir des coll√®gues' },
            { id: 12, name: 'Pas de stress', icon: '‚òÆÔ∏è', example: 'Ex: Pas de pression √©norme, job tranquille' },
            { id: 13, name: 'Me d√©passer', icon: 'üéØ', example: 'Ex: Des challenges, des objectifs ambitieux' },
            { id: 14, name: 'Horaires flexibles', icon: 'üîÑ', example: 'Ex: Pouvoir adapter mes horaires selon mes besoins' },
            { id: 15, name: '√ätre reconnu¬∑e', icon: 'üèÜ', example: 'Ex: Qu\'on remarque mon travail, des encouragements' },
            { id: 16, name: 'Aider la plan√®te', icon: 'üå±', example: 'Ex: Job √©colo, entreprise responsable' },
            { id: 17, name: 'Cr√©er/innover', icon: 'üí°', example: 'Ex: Proposer mes id√©es, pas juste ex√©cuter' },
            { id: 18, name: 'Bon patron', icon: 'üë®‚Äçüíº', example: 'Ex: Un chef qui √©coute, pas un tyran' },
            { id: 19, name: 'Pas physique', icon: 'ü™ë', example: 'Ex: Pas porter de lourdes charges, m√©nager mon corps' },
            { id: 20, name: 'Contact clients', icon: 'üó£Ô∏è', example: 'Ex: Parler avec les gens, pas √™tre dans un bureau' },
            { id: 21, name: 'Avantages', icon: 'üéÅ', example: 'Ex: Tickets resto, primes, mutuelle top' },
            { id: 22, name: 'Vari√©t√©', icon: 'üé®', example: 'Ex: Pas la m√™me chose tous les jours, du changement' },
            { id: 23, name: '√âvolution possible', icon: 'üìà', example: 'Ex: Possibilit√© de monter en grade, pas bloqu√©¬∑e' },
            { id: 24, name: 'Pas de routine', icon: 'üß≠', example: 'Ex: Imprevu, aventure, pas du 9h-17h r√©p√©titif' }
        ];

        const gameData = [
            {
                chapter: "Chapitre 1 : √âlaborer ma strat√©gie",
                emoji: "üéØ",
                title: "Le plan de bataille",
                description: "Tu d√©cides de te lancer s√©rieusement dans la recherche d'emploi. Tu as 3 semaines devant toi avant que tes allocations se terminent.",
                context: "üí° Conseil : Une bonne strat√©gie vaut mieux que 100 candidatures hasardeuses.",
                choices: [
                    {
                        icon: "üó∫Ô∏è",
                        title: "Faire un √©tat des lieux d'abord : mes comp√©tences, mes valeurs, puis cibler",
                        feedback: "üéØ EXCELLENT ! C'est la base. D√©finir ton projet avant de foncer = candidatures pertinentes + motivation durable + meilleur taux de r√©ponses. Un projet clair, c'est 50% du travail.",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üì±",
                        title: "Postuler partout tout de suite, au moins 50 CV cette semaine",
                        feedback: "‚ùå Pi√®ge classique ! Envoyer en masse sans ciblage = 0 impact. Les recruteurs le sentent. Mieux vaut 10 candidatures cibl√©es que 100 g√©n√©riques. R√©sultat : d√©motivation + perte de temps.",
                        correct: false,
                        points: 5
                    },
                    {
                        icon: "üë•",
                        title: "Activer mon r√©seau imm√©diatement pour dire que je cherche",
                        feedback: "‚ö†Ô∏è PAS MAL mais pr√©matur√©. Contacter ton r√©seau sans savoir CE QUE tu cherches = tu parais perdu¬∑e. D'abord d√©finis ton projet, PUIS active ton r√©seau avec un message pr√©cis.",
                        correct: false,
                        points: 10
                    }
                ]
            },
            {
                chapter: "Chapitre 2 : La lettre de motivation",
                emoji: "‚úâÔ∏è",
                title: "L'offre id√©ale",
                description: "Tu trouves THE annonce : assistant¬∑e commercial¬∑e dans une PME locale. Salaire correct, mission int√©ressante. Il faut CV + lettre de motivation.",
                context: "üìå L'annonce pr√©cise : 'Dynamisme, autonomie et esprit d'√©quipe recherch√©s'. La bo√Æte vend du mat√©riel de sport.",
                choices: [
                    {
                        icon: "üé®",
                        title: "Raconter mon parcours dans l'ordre chronologique depuis le coll√®ge",
                        feedback: "‚ùå Erreur fr√©quente ! Le recruteur n'a pas le temps pour ton autobiographie. Il veut savoir POURQUOI tu postules et CE QUE TU APPORTES. Ta vie = pas son probl√®me.",
                        correct: false,
                        points: 7
                    },
                    {
                        icon: "üí°",
                        title: "Montrer que je connais l'entreprise et expliquer ce que j'apporte concr√®tement",
                        feedback: "üéØ PARFAIT ! Structure gagnante : Vous (l'entreprise) + Moi (mes comp√©tences) + Nous (ce qu'on fera ensemble). Bonus : cite un projet r√©cent de l'entreprise pour montrer ton int√©r√™t r√©el.",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üìã",
                        title: "Prendre un mod√®le internet et changer juste le nom de l'entreprise",
                        feedback: "‚ùå GAME OVER ! Les recruteurs rep√®rent les lettres g√©n√©riques en 3 secondes. Direction : poubelle. Personnalise ou n'envoie rien. 30 minutes d'effort = se d√©marquer de 90% des candidats.",
                        correct: false,
                        points: 3
                    }
                ]
            },
            {
                chapter: "Chapitre 3 : Me pr√©senter spontan√©ment",
                emoji: "üö™",
                title: "Tenter le tout pour le tout",
                description: "En passant devant un magasin de d√©co qui te pla√Æt, tu remarques qu'il y a du monde mais pas de rush. Pas d'annonce visible. Et si tu tentais une candidature spontan√©e ?",
                context: "‚è∞ C'est un mardi apr√®s-midi, 15h. L'heure creuse.",
                choices: [
                    {
                        icon: "üö∂",
                        title: "Entrer direct, me pr√©senter et demander s'ils recrutent",
                        feedback: "‚ö†Ô∏è AUDACIEUX mais risqu√© ! Sans pr√©paration, tu peux d√©ranger. Mieux vaut : observer le moment calme, te pr√©senter bri√®vement, laisser ton CV et demander le nom du responsable. Respect du temps des autres = pro.",
                        correct: false,
                        points: 12
                    },
                    {
                        icon: "üìû",
                        title: "Appeler d'abord pour cibler la bonne personne et savoir s'ils recrutent",
                        feedback: "üéØ TOP STRAT√âGIE ! Tu montres organisation + professionnalisme. En appelant : tu obtiens le nom du responsable + tu poses des questions sur leurs besoins + ta candidature aura du poids. Ensuite, mail personnalis√© OU visite en personne.",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üìß",
                        title: "Envoyer un mail avec mon CV √† l'adresse g√©n√©rique sur leur site",
                        feedback: "‚ùå Pas terrible. Les candidatures spontan√©es par mail se perdent dans la masse. Pour marquer les esprits en spontan√© : privil√©gie le contact humain (appel ou visite) apr√®s avoir rep√©r√© la bonne personne.",
                        correct: false,
                        points: 8
                    }
                ]
            },
            {
                chapter: "Chapitre 4 : Participer √† un forum emploi",
                emoji: "üé™",
                title: "L'√©v√©nement networking",
                description: "Le forum emploi de ta ville : 40 stands d'entreprises, des ateliers CV, des speed-meetings. Tu as 3 heures sur place. Comment t'organises-tu ?",
                context: "üéØ Objectif : maximiser ton impact, pas distribuer du papier.",
                choices: [
                    {
                        icon: "üéì",
                        title: "Assister d'abord aux ateliers pour me pr√©parer (CV, pitch, etc.)",
                        feedback: "‚ö†Ô∏è PAS MAL si c'est ta premi√®re fois, mais attention ! L'int√©r√™t principal = rencontrer les recruteurs EN DIRECT. Solution : arrive t√¥t, fais MAX 1 atelier, puis file sur les stands cibl√©s. Priorit√©s !",
                        correct: false,
                        points: 12
                    },
                    {
                        icon: "üèÉ",
                        title: "Faire le tour de tous les stands et d√©poser mon CV partout",
                        feedback: "‚ùå PIRE STRAT√âGIE ! Distribuer ton CV en masse = 0 impact. Les recruteurs ne se souviendront pas de toi. R√®gle d'or : Qualit√© > Quantit√©. 5 vraies conversations > 40 CV jet√©s.",
                        correct: false,
                        points: 5
                    },
                    {
                        icon: "üéØ",
                        title: "Cibler 3-4 entreprises et pr√©parer des questions pr√©cises pour chacune",
                        feedback: "üéØ EXCELLENT ! Tu montres organisation + motivation. En pr√©parant des questions, tu cr√©es un vrai dialogue. Les recruteurs se souviendront de toi. Astuce : demande leur carte et fais un follow-up mail dans les 48h.",
                        correct: true,
                        points: 20
                    }
                ]
            },
            {
                chapter: "Chapitre 5 : Rechercher une PMSMP",
                emoji: "üîç",
                title: "L'immersion professionnelle",
                description: "Ton conseiller Mission Locale te propose une PMSMP (immersion) d'une semaine dans une entreprise qui t'int√©resse. C'est l'occasion de tester le m√©tier ET de te faire remarquer.",
                context: "üíº Contexte : Beaucoup de PMSMP d√©bouchent sur des embauches si tu joues bien.",
                choices: [
                    {
                        icon: "‚ö°",
                        title: "Proposer plein d'id√©es d√®s le 1er jour pour am√©liorer leur organisation",
                        feedback: "‚ùå DANGER ! Arriver et vouloir tout changer en 2 jours = braquer tout le monde. R√®gle : d'abord OBSERVE et APPRENDS. Ensuite, si tu as des id√©es, partage-les humblement : 'J'ai remarqu√© que... Avez-vous d√©j√† essay√©... ?'",
                        correct: false,
                        points: 8
                    },
                    {
                        icon: "ü§ù",
                        title: "√ätre curieux¬∑se, poser des questions et demander des responsabilit√©s",
                        feedback: "üéØ PARFAIT ! Attitude gagnante : motivation sans pr√©tention. Montre que tu veux APPRENDRE. √Ä la fin, demande un retour sur ton immersion + exprime clairement ton int√©r√™t pour un poste. C'est comme √ßa qu'on transforme une PMSMP en CDI.",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üëÄ",
                        title: "Rester discret¬∑e, observer et faire uniquement ce qu'on me demande",
                        feedback: "‚ùå TROP PASSIF ! Une PMSMP ‚â† stage d'observation. C'est ta chance de PROUVER ta motivation. Sois proactif¬∑ve : pose des questions, propose ton aide, montre de l'int√©r√™t. Objectif : qu'ils veuillent te recruter apr√®s.",
                        correct: false,
                        points: 10
                    }
                ]
            },
            {
                chapter: "Chapitre 6 : L'entretien d'embauche",
                emoji: "üíº",
                title: "Le jour J",
                description: "√áa y est ! Tu as d√©croch√© un entretien pour le poste d'assistant¬∑e commercial¬∑e. Le recruteur d√©marre avec : 'Alors, parlez-moi de vous.'",
                context: "üé§ Question PI√àGE classique. Comment r√©ponds-tu ?",
                choices: [
                    {
                        icon: "üè†",
                        title: "Je parle de mes hobbies, ma famille, mes passions personnelles",
                        feedback: "‚ùå HORS SUJET ! Le recruteur se fiche de ta vie perso (sauf si lien direct avec le job). Il veut savoir qui tu es PROFESSIONNELLEMENT. Garde tes hobbies pour la fin si on te pose la question.",
                        correct: false,
                        points: 6
                    },
                    {
                        icon: "üí¨",
                        title: "Je dis que je cherche un job depuis longtemps et que j'ai vraiment besoin",
                        feedback: "‚ùå ERREUR ! Parler de tes difficult√©s + ton besoin = position de faiblesse. Le recruteur veut savoir CE QUE TU APPORTES, pas ce que tu attends. Montre ta valeur, pas ta gal√®re.",
                        correct: false,
                        points: 5
                    },
                    {
                        icon: "üéØ",
                        title: "Je r√©sume mon parcours en lien avec le poste (formation + comp√©tences + motivation)",
                        feedback: "üéØ PARFAIT ! Structure gagnante : Qui je suis pro + Ce que j'ai fait + Pourquoi ce poste m'int√©resse. Court (2-3 min max), pertinent, orient√© VALEUR. C'est ton elevator pitch. Entra√Æne-toi avant !",
                        correct: true,
                        points: 20
                    }
                ]
            },
            {
                chapter: "Chapitre 7 : G√©rer l'impr√©vu",
                emoji: "‚è∞",
                title: "Le retard",
                description: "Catastrophe ! Le bus a eu 20 minutes de retard. Tu arrives √† l'entretien avec 15 minutes de retard. Le recruteur t'attend dans la salle.",
                context: "üò∞ Stress maximum. Comment g√©rer la situation ?",
                choices: [
                    {
                        icon: "üèÉ",
                        title: "J'entre sans rien dire, c'est pas ma faute, c'est les transports",
                        feedback: "‚ùå CATASTROPHE ! Ignorer ton retard = impolitesse + immaturit√©. M√™me si c'est pas ta faute, c'est TA responsabilit√© de g√©rer. Prendre la responsabilit√© = maturit√© professionnelle. L√†, tu viens de perdre le job.",
                        correct: false,
                        points: 0
                    },
                    {
                        icon: "üôè",
                        title: "Je m'excuse poliment, j'explique bri√®vement et je passe √† l'entretien",
                        feedback: "üéØ PARFAIT ! Excuse sinc√®re + explication courte (pas de roman) + tu remercies pour la patience = tu montres du professionnalisme. Astuce : anticipe en appelant 10 min avant si tu vois que tu seras en retard.",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üìñ",
                        title: "Je raconte toute mon histoire de transport en d√©tail pour me justifier",
                        feedback: "‚ùå MAUVAISE ID√âE ! Trop d'explications = tu te justifies comme un enfant. Sois adulte : excuse br√®ve + reconnaissance de ton retard + focus sur l'entretien. Le recruteur n'a pas besoin de conna√Ætre ton trajet complet.",
                        correct: false,
                        points: 8
                    }
                ]
            },
            {
                chapter: "Chapitre 8 : La p√©riode d'essai",
                emoji: "üéä",
                title: "Les premiers jours",
                description: "BRAVO ! Tu as le job ! P√©riode d'essai de 2 mois. C'est tes 3 premi√®res semaines. L'entreprise peut encore rompre sans pr√©avis. Comment assurer ?",
                context: "‚ö†Ô∏è La p√©riode d'essai = test permanent. Fais tes preuves !",
                choices: [
                    {
                        icon: "ü¶∏",
                        title: "Montrer que je sais tout faire seul¬∑e, ne jamais poser de questions",
                        feedback: "‚ùå GROSSE ERREUR ! Ne pas poser de questions = faire des erreurs √©vitables. Les employeurs PR√âF√àRENT quelqu'un qui pose des questions intelligentes qu'un¬∑e solo cowboy¬∑girl. Poser des questions = intelligence + humilit√©.",
                        correct: false,
                        points: 5
                    },
                    {
                        icon: "üéØ",
                        title: "√ätre √† l'√©coute, poser des questions et proposer mon aide √† l'√©quipe",
                        feedback: "üéØ EXACTEMENT ! Attitude gagnante : apprendre + s'int√©grer + montrer sa motivation. Observe les codes, demande des conseils, propose ton aide. En fin de p√©riode d'essai, demande un retour constructif. C'est comme √ßa qu'on valide !",
                        correct: true,
                        points: 20
                    },
                    {
                        icon: "üìù",
                        title: "Arriver 30 min avant, partir 30 min apr√®s, dire oui √† tout",
                        feedback: "‚ö†Ô∏è ATTENTION BURN-OUT ! Vouloir trop en faire = te fatiguer + fausser l'image. Mieux vaut √™tre EFFICACE, ponctuel¬∑le et disponible, sans te cramer. L'√©quilibre = tenir sur la dur√©e. Marathon, pas sprint.",
                        correct: false,
                        points: 12
                    }
                ]
            }
        ];

        // STATE
        let userName = '';
        let currentScene = 0;
        let totalScore = 0;
        let correctCount = 0;
        let choiceDisabled = false;
        let userValues = { essential: [], important: [], secondary: [] };
        let draggedElement = null;

        // Continue with JavaScript implementation...
        // (Due to length limits, I'll include the key functions)

        document.getElementById('nameInput').addEventListener('input', function(e) {
            document.getElementById('nameSubmitBtn').disabled = e.target.value.trim().length === 0;
        });

        document.getElementById('nameInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.value.trim().length > 0) {
                submitName();
            }
        });

        function submitName() {
            const input = document.getElementById('nameInput').value.trim();
            if (!input) return;
            
            userName = input;
            document.getElementById('userName').textContent = userName;
            document.getElementById('transitionUserName').textContent = userName;
            
            document.getElementById('nameScreen').classList.add('hidden');
            document.getElementById('introScreen').classList.remove('hidden');
        }

        function startGame() {
            document.getElementById('introScreen').classList.add('hidden');
            document.getElementById('progressSection').classList.remove('hidden');
            loadScene(0);
        }

        function loadScene(sceneIndex) {
            currentScene = sceneIndex;
            const scene = gameData[sceneIndex];
            
            document.getElementById('progressBadge').textContent = `Partie 1/2 : Chapitre ${sceneIndex + 1}/8`;
            const progress = ((sceneIndex + 1) / 8) * 50;
            document.getElementById('progressBarFill').style.width = progress + '%';
            
            const sceneHTML = `
                <div class="card">
                    <div class="card-header">
                        <div class="card-chapter">${scene.chapter}</div>
                        <div class="card-emoji">${scene.emoji}</div>
                        <h2 class="card-title">${scene.title}</h2>
                    </div>
                    <div class="card-description">${scene.description}</div>
                    ${scene.context ? `<div class="context-callout"><strong>‚ö†Ô∏è Contexte :</strong> ${scene.context}</div>` : ''}
                    <div class="choices-grid">
                        ${scene.choices.map((choice, i) => `
                            <div class="choice-card" onclick="selectChoice(${i})">
                                <div class="choice-icon">${choice.icon}</div>
                                <div class="choice-text">${choice.title}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="feedback-box" id="feedbackBox"></div>
                    <button class="btn btn-primary" id="continueBtn" style="display: none;" onclick="nextScene()">
                        ${sceneIndex < 7 ? 'Chapitre suivant ‚Üí' : 'Terminer la partie 1 üéØ'}
                    </button>
                    <svg class="puzzle-decoration" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 0 L100 50 L50 100 L0 50 Z" fill="#06D6A0"/>
                    </svg>
                </div>
            `;
            
            document.getElementById('gameScenes').innerHTML = sceneHTML;
            choiceDisabled = false;
        }

        function selectChoice(choiceIndex) {
            if (choiceDisabled) return;
            choiceDisabled = true;
            
            const scene = gameData[currentScene];
            const choice = scene.choices[choiceIndex];
            
            const choices = document.querySelectorAll('.choice-card');
            choices.forEach((el, idx) => {
                el.classList.add('disabled');
                if (idx === choiceIndex) {
                    el.classList.add('selected');
                    setTimeout(() => {
                        el.classList.remove('selected');
                        el.classList.add(choice.correct ? 'correct' : 'incorrect');
                        if (choice.correct) {
                            totalScore += choice.points;
                            correctCount++;
                        } else {
                            totalScore += choice.points;
                        }
                        document.getElementById('scoreDisplay').textContent = totalScore;
                        showFeedback(choice);
                    }, 300);
                }
            });
        }

        function showFeedback(choice) {
            const feedbackBox = document.getElementById('feedbackBox');
            feedbackBox.className = 'feedback-box visible ' + (choice.correct ? 'success' : 'error');
            feedbackBox.innerHTML = `
                <div class="feedback-title">
                    ${choice.correct ? '‚úÖ Bonne d√©cision !' : '‚ùå Pas optimal...'}
                    <span>+${choice.points} pts</span>
                </div>
                <div class="feedback-text">${choice.feedback}</div>
            `;
            document.getElementById('continueBtn').style.display = 'block';
        }

        function nextScene() {
            if (currentScene < 7) {
                loadScene(currentScene + 1);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                showTransitionScreen();
            }
        }

        function showTransitionScreen() {
            document.getElementById('gameScenes').innerHTML = '';
            document.getElementById('progressSection').classList.add('hidden');
            document.getElementById('transitionScore').textContent = totalScore;
            document.getElementById('transitionScreen').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function startValuesActivity() {
            document.getElementById('transitionScreen').classList.add('hidden');
            document.getElementById('progressSection').classList.remove('hidden');
            document.getElementById('valuesContainer').classList.remove('hidden');
            document.getElementById('progressBadge').textContent = 'Partie 2/2 : Mes Valeurs';
            document.getElementById('progressBarFill').style.width = '75%';
            initializeValues();
        }

        function initializeValues() {
            const bank = document.getElementById('valueBank');
            bank.innerHTML = '';
            valuesData.forEach(value => {
                const card = document.createElement('div');
                card.className = 'value-card';
                card.draggable = true;
                card.dataset.valueId = value.id;
                card.innerHTML = `
                    <div class="value-icon">${value.icon}</div>
                    <div class="value-name">${value.name}</div>
                    <div class="value-example">${value.example}</div>
                `;
                bank.appendChild(card);
            });
            setupDragAndDrop();
        }

        function setupDragAndDrop() {
            const cards = document.querySelectorAll('.value-card');
            const zones = document.querySelectorAll('.drop-zone');
            
            cards.forEach(card => {
                card.addEventListener('dragstart', e => {
                    draggedElement = e.target;
                    e.target.classList.add('dragging');
                });
                card.addEventListener('dragend', e => {
                    e.target.classList.remove('dragging');
                });
            });
            
            zones.forEach(zone => {
                zone.addEventListener('dragover', e => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });
                zone.addEventListener('dragleave', e => {
                    if (e.currentTarget === e.target) {
                        zone.classList.remove('drag-over');
                    }
                });
                zone.addEventListener('drop', e => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    if (!draggedElement) return;
                    
                    const content = zone.querySelector('.zone-content');
                    const zoneType = zone.dataset.zone;
                    
                    if (zoneType === 'essential' && content.children.length >= 3) {
                        alert('‚ö†Ô∏è Tu ne peux placer que 3 valeurs maximum dans la zone Essentiel !');
                        return;
                    }
                    
                    content.appendChild(draggedElement);
                    updateCounter();
                    checkCompletion();
                });
            });
        }

        function updateCounter() {
            const total = document.getElementById('essentialContent').children.length +
                         document.getElementById('importantContent').children.length +
                         document.getElementById('secondaryContent').children.length;
            document.getElementById('valuesCounter').textContent = `Cartes tri√©es : ${total} / 24`;
        }

        function checkCompletion() {
            const essential = document.getElementById('essentialContent').children.length;
            const total = document.getElementById('essentialContent').children.length +
                         document.getElementById('importantContent').children.length +
                         document.getElementById('secondaryContent').children.length;
            
            document.getElementById('valuesFinishBtn').disabled = !(total === 24 && essential === 3);
        }

        function finishValues() {
            const essentialEl = document.getElementById('essentialContent').children;
            const importantEl = document.getElementById('importantContent').children;
            
            userValues.essential = Array.from(essentialEl).map(el => {
                const id = parseInt(el.dataset.valueId);
                return valuesData.find(v => v.id === id);
            });
            
            userValues.important = Array.from(importantEl).map(el => {
                const id = parseInt(el.dataset.valueId);
                return valuesData.find(v => v.id === id);
            });
            
            showEndScreen();
        }

        function showEndScreen() {
            document.getElementById('valuesContainer').classList.add('hidden');
            document.getElementById('progressSection').classList.add('hidden');
            
            const percentage = Math.round((correctCount / 8) * 100);
            
            let performanceMsg = '';
            let tips = '';
            
            if (percentage >= 75) {
                performanceMsg = `<div class="message-title">üåü Excellent ${userName} ! Tu es pr√™t¬∑e !</div>
                    <p>Tu ma√Ætrises les techniques de recherche d'emploi ET tu connais tes valeurs. Combinaison gagnante !</p>`;
                tips = `
                    <div class="tip-item">
                        <div class="tip-icon">üéØ</div>
                        <div class="tip-text"><strong>Prochaine √©tape :</strong> Utilise tes 3 piliers pour filtrer les offres.</div>
                    </div>
                `;
            } else if (percentage >= 50) {
                performanceMsg = `<div class="message-title">üëç Bien ${userName} !</div>
                    <p>Tu as compris l'essentiel. Maintenant, utilise tes valeurs pour affiner tes choix.</p>`;
                tips = `
                    <div class="tip-item">
                        <div class="tip-icon">ü§ù</div>
                        <div class="tip-text"><strong>Avec ton conseiller :</strong> Montre-lui tes 3 valeurs essentielles.</div>
                    </div>
                `;
            } else {
                performanceMsg = `<div class="message-title">üí™ ${userName}, prends le temps !</div>
                    <p>La bonne nouvelle : tu connais maintenant tes valeurs !</p>`;
                tips = `
                    <div class="tip-item">
                        <div class="tip-icon">üë®‚Äçüè´</div>
                        <div class="tip-text"><strong>Mission Locale :</strong> Prends RDV pour travailler les techniques.</div>
                    </div>
                `;
            }

            const valuesHTML = userValues.essential.map(v => `
                <div class="value-result-card">
                    <div class="value-result-header">${v.icon} ${v.name}</div>
                    <div class="value-result-example">${v.example}</div>
                </div>
            `).join('');
            
            document.getElementById('endScreen').innerHTML = `
                <div class="card">
                    <div class="results-header">
                        <div class="results-emoji">üèÜ</div>
                        <h1 class="results-title">F√©licitations ${userName} !</h1>
                        <p class="results-subtitle">Tu as termin√© ton parcours emploi complet</p>
                    </div>

                    <div class="score-grid">
                        <div class="score-card">
                            <div class="score-value">${totalScore}</div>
                            <div class="score-label">Points totaux</div>
                        </div>
                        <div class="score-card">
                            <div class="score-value">${correctCount}/8</div>
                            <div class="score-label">Bonnes d√©cisions</div>
                        </div>
                        <div class="score-card">
                            <div class="score-value">${percentage}%</div>
                            <div class="score-label">Taux de r√©ussite</div>
                        </div>
                    </div>

                    <div class="message-box">${performanceMsg}</div>

                    <div style="background: linear-gradient(135deg, #FFE8E8, #FFDADA); padding: 30px; border-radius: var(--radius-medium); margin: 30px 0; border-left: 5px solid var(--color-primary-red);">
                        <h3 style="font-weight: 800; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <span>üî¥</span> Tes 3 Piliers NON-N√âGOCIABLES
                        </h3>
                        ${valuesHTML}
                        <p style="margin-top: 20px; font-weight: 700; color: var(--color-primary-red);">
                            ‚ö†Ô∏è Si un job ne respecte pas ces 3 valeurs, REFUSE-LE.
                        </p>
                    </div>

                    <div class="tips-box">
                        <div class="tips-title">üí° Tes Actions</div>
                        ${tips}
                    </div>

                    <button class="btn btn-primary" onclick="window.print()">
                        üìÑ Imprimer mon profil
                    </button>
                    <button class="btn btn-secondary" onclick="location.reload()" style="width: 100%; margin-top: 15px;">
                        üîÑ Recommencer
                    </button>
                </div>
            `;
            
            document.getElementById('endScreen').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
