<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LS4YOU - Stressom√®tre Desktop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ls-red: #FF4B5C;
            --ls-yellow: #FFD166;
            --ls-turquoise: #46e3cf;
            --ls-dark: #1A1A1A;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffffff;
            color: var(--ls-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1, h2, h3, h4, .font-title { font-family: 'Montserrat', sans-serif; }

        /* D√©corations Signature */
        .halo-turquoise {
            position: absolute;
            width: 600px;
            height: 600px;
            background: var(--ls-turquoise);
            border-radius: 50%;
            top: -200px;
            left: -100px;
            filter: blur(100px);
            opacity: 0.1;
            z-index: 0;
        }

        /* Cartes de questions */
        .q-row {
            transition: all 0.2s;
            border-bottom: 1px solid #f1f5f9;
        }
        .q-row:hover { background-color: #f8fafc; }

        /* Options de r√©ponse */
        .opt-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-weight: bold;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }
        .opt-btn.selected[data-val="0"] { background-color: #4ade80; border-color: #4ade80; color: white; }
        .opt-btn.selected[data-val="1"] { background-color: var(--ls-yellow); border-color: var(--ls-yellow); color: white; }
        .opt-btn.selected[data-val="2"] { background-color: var(--ls-red); border-color: var(--ls-red); color: white; }

        /* Progress Bar */
        .progress-bar-bg { height: 8px; background: #f1f5f9; border-radius: 4px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--ls-turquoise), var(--ls-red)); transition: width 0.4s; }

        /* Layout */
        .content-container { position: relative; z-index: 10; }

        /* Footer Institutionnel */
        footer {
            background-color: #1c1c1c;
            color: #ffffff;
            font-size: 11px;
            padding: 1.5rem 3rem;
            margin-top: auto;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header Desktop -->
    <header class="bg-white border-b px-12 py-6 flex justify-between items-center sticky top-0 z-50">
        <div class="flex items-center gap-4">
            <img src="https://www.lifeskills4youth.eu/wp-content/uploads/2024/07/LS4YOU_Logo_whiteback.jpg" alt="Logo LS4YOU" class="h-12 w-auto">
            <div class="h-8 w-[2px] bg-slate-100 mx-2"></div>
            <h1 class="text-xl font-800 tracking-tighter uppercase">Stressom√®tre</h1>
        </div>
        <div class="flex items-center gap-6">
            <img src="https://static.wixstatic.com/media/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif/v1/fill/w_224,h_60,al_c,q_80,enc_avif,quality_auto/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif" alt="MLPB" class="h-10 w-auto">
            <button onclick="location.reload()" class="p-2 text-slate-300 hover:text-ls-red transition-colors">
                <i data-lucide="refresh-cw" class="w-6 h-6"></i>
            </button>
        </div>
    </header>

    <main class="max-w-6xl mx-auto w-full p-12 flex-grow">
        <div class="halo-turquoise"></div>
        
        <div id="app-container" class="content-container">
            <!-- Inject√© par JS -->
        </div>
    </main>

    <!-- Footer Desktop -->
    <footer>
        <div class="flex justify-between items-center gap-12">
            <div class="flex items-center gap-4 border border-white p-2 shrink-0">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" alt="EU Flag" class="w-10">
                <div class="font-bold leading-none uppercase">
                    <span class="text-[9px] block opacity-80">Co-funded by</span>
                    <span class="text-[12px]">the European Union</span>
                </div>
            </div>
            <p class="opacity-60 text-justify max-w-2xl leading-relaxed">
                Funded by the European Union. Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or the Agence Erasmus+ France Jeunesse & Sport (Agence du Service Civique).
            </p>
            <div class="text-right shrink-0">
                <span class="block font-bold">¬© 2026 LS4YOU Project</span>
                <span class="text-ls-yellow">Data Privacy Statement & Imprint</span>
            </div>
        </div>
    </footer>

    <script>
        const SECTIONS = [
            { id: 'phys', label: 'Signaux Physiques', icon: 'zap' },
            { id: 'emo', label: 'Signaux √âmotionnels', icon: 'heart' },
            { id: 'cog', label: 'Signaux Cognitifs', icon: 'brain' },
            { id: 'beh', label: 'Comportements', icon: 'user' },
            { id: 'amp', label: 'Pression & Pens√©es', icon: 'alert-circle' }
        ];

        const QUESTIONS = [
            // PHYSIQUE
            { id: "q1", cat: "phys", text: "Douleurs √† l‚Äôestomac / naus√©es sans raison √©vidente ?" },
            { id: "q2", cat: "phys", text: "Ton c≈ìur s‚Äôemballe m√™me sans effort ?" },
            { id: "q3", cat: "phys", text: "Mal √† respirer / souffle court sans effort ?" },
            { id: "q4", cat: "phys", text: "Tu transpires plus que d‚Äôhabitude, m√™me sans bouger ?" },
            { id: "q5", cat: "phys", text: "Tu manges trop‚Ä¶ ou pas assez ?" },
            { id: "q6", cat: "phys", text: "Souvent crev√©(e), m√™me apr√®s avoir dormi ?" },
            // EMOTIONS
            { id: "q7", cat: "emo", text: "Stress / inqui√©tude sans trop savoir pourquoi ?" },
            { id: "q8", cat: "emo", text: "Tu t‚Äô√©nerves plus facilement ?" },
            { id: "q9", cat: "emo", text: "Un gros coup de blues qui revient ?" },
            { id: "q10", cat: "emo", text: "Trop de choses √† g√©rer : ‚Äúc‚Äôest trop‚Äù ?" },
            { id: "q11", cat: "emo", text: "Humeur ‚Äúyo-yo‚Äù dans la journ√©e ?" },
            { id: "q12", cat: "emo", text: "Hyper tendu(e) / agit√©(e) sans raison claire ?" },
            { id: "q13", cat: "emo", text: "Tu pleures plus facilement ?" },
            { id: "q14", cat: "emo", text: "Sensation d‚Äô√™tre ‚Äúd√©connect√©(e)‚Äù de tes √©motions ?" },
            // COGNITIF
            { id: "q15", cat: "cog", text: "Difficile de te concentrer ?" },
            { id: "q16", cat: "cog", text: "Tu oublies des choses importantes / simples ?" },
            { id: "q17", cat: "cog", text: "Pens√©es qui tournent en boucle ?" },
            { id: "q18", cat: "cog", text: "Difficile de d√©cider, m√™me pour des petits trucs ?" },
            { id: "q19", cat: "cog", text: "Tu penses souvent n√©gativement sur toi ?" },
            { id: "q20", cat: "cog", text: "Tu as du mal √† organiser tes id√©es / rester clair(e) ?" },
            { id: "q21", cat: "cog", text: "Tu revis des situations stressantes dans ta t√™te ?" },
            // COMPORTEMENT
            { id: "q22", cat: "beh", text: "Tu √©vites certaines personnes / situations ?" },
            { id: "q23", cat: "beh", text: "Tu procrastines m√™me quand tu sais que tu dois le faire ?" },
            { id: "q24", cat: "beh", text: "Tu utilises alcool / cigarettes / autre pour te sentir mieux ?" },
            { id: "q25", cat: "beh", text: "Petits gestes nerveux (ongles, jambes, etc.) ?" },
            { id: "q26", cat: "beh", text: "Tu t‚Äô√©nerves facilement / tu es dur(e) sans le vouloir ?" },
            { id: "q27", cat: "beh", text: "Tu as arr√™t√© des activit√©s que tu aimais ?" },
            { id: "q28", cat: "beh", text: "Tu te jettes √† fond dans une activit√© pour ne pas penser ?" },
            { id: "q29", cat: "beh", text: "Difficile de te poser / te d√©tendre ?" },
            // PRESSION
            { id: "q30", cat: "amp", text: "Tu imagines souvent le pire sc√©nario ?" },
            { id: "q31", cat: "amp", text: "Besoin de tout contr√¥ler pour √©viter que √ßa d√©raille ?" },
            { id: "q32", cat: "amp", text: "L‚Äôimpr√©vu / changement de plan te stresse facilement ?" },
            { id: "q33", cat: "amp", text: "‚ÄúSi je rate, c‚Äôest un √©chec total‚Äù ?" },
            { id: "q34", cat: "amp", text: "Tu te critiques souvent / ‚Äúpas assez bien‚Äù ?" },
            { id: "q35", cat: "amp", text: "‚ÄúLes autres sont meilleurs que moi‚Äù ?" },
            { id: "q36", cat: "amp", text: "‚ÄúJe ne m√©rite pas de r√©ussir / d‚Äô√™tre heureux(se)‚Äù ?" },
            { id: "q37", cat: "amp", text: "‚ÄúTout est de ma faute quand √ßa va mal‚Äù ?" },
            { id: "q38", cat: "amp", text: "Impression de courir apr√®s le temps ?" },
            { id: "q39", cat: "amp", text: "‚ÄúToujours √† la bourre / en retard dans ma vie‚Äù ?" }
        ];

        let state = {
            currentSectionIdx: 0,
            answers: {} // id: value
        };

        const app = {
            init() { this.render(); },

            render() {
                const container = document.getElementById('app-container');
                container.innerHTML = '';

                if (state.currentSectionIdx < SECTIONS.length) {
                    container.innerHTML = this.viewQuestionnaire();
                } else {
                    container.innerHTML = this.viewResults();
                }
                lucide.createIcons();
            },

            viewQuestionnaire() {
                const section = SECTIONS[state.currentSectionIdx];
                const questions = QUESTIONS.filter(q => q.cat === section.id);
                const progress = ((state.currentSectionIdx + 1) / SECTIONS.length) * 100;

                return `
                    <div class="animate-fade">
                        <div class="flex justify-between items-end mb-8">
                            <div>
                                <span class="bg-ls-turquoise text-white px-3 py-1 rounded-full text-[10px] font-800 uppercase tracking-widest mb-4 inline-block">S√©quence ${state.currentSectionIdx + 1}/5</span>
                                <h2 class="text-4xl font-800 uppercase tracking-tighter">${section.label}</h2>
                            </div>
                            <div class="text-right w-64">
                                <div class="flex justify-between text-[10px] font-bold uppercase text-slate-400 mb-2">
                                    <span>Progression</span>
                                    <span>${Math.round(progress)}%</span>
                                </div>
                                <div class="progress-bar-bg"><div class="progress-bar-fill" style="width: ${progress}%"></div></div>
                            </div>
                        </div>

                        <div class="bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden mb-12">
                            <div class="grid grid-cols-12 bg-slate-50 p-4 text-[10px] font-800 uppercase tracking-widest text-slate-400 border-b">
                                <div class="col-span-8 px-4">Question</div>
                                <div class="col-span-4 flex justify-between px-8 text-center">
                                    <span class="w-12">Jamais</span>
                                    <span class="w-12">Parfois</span>
                                    <span class="w-12">Souvent</span>
                                </div>
                            </div>

                            ${questions.map((q, idx) => `
                                <div class="grid grid-cols-12 p-6 q-row items-center">
                                    <div class="col-span-8 px-4 font-semibold text-slate-700">${q.text}</div>
                                    <div class="col-span-4 flex justify-between px-8">
                                        <button onclick="app.setAnswer('${q.id}', 0)" class="opt-btn ${state.answers[q.id] === 0 ? 'selected' : ''}" data-val="0">0</button>
                                        <button onclick="app.setAnswer('${q.id}', 1)" class="opt-btn ${state.answers[q.id] === 1 ? 'selected' : ''}" data-val="1">1</button>
                                        <button onclick="app.setAnswer('${q.id}', 2)" class="opt-btn ${state.answers[q.id] === 2 ? 'selected' : ''}" data-val="2">2</button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="flex justify-between items-center">
                            <button onclick="app.prev()" class="px-8 py-4 border-2 border-slate-100 rounded-full font-bold uppercase text-xs hover:bg-slate-50 transition-all ${state.currentSectionIdx === 0 ? 'invisible' : ''}">Retour</button>
                            <button onclick="app.next()" class="px-12 py-5 btn-primary font-800 uppercase tracking-widest disabled:opacity-50 disabled:grayscale" ${this.isSectionComplete() ? '' : 'disabled'}>
                                ${state.currentSectionIdx === SECTIONS.length - 1 ? 'Voir mes r√©sultats' : 'S√©quence suivante'}
                            </button>
                        </div>
                    </div>
                `;
            },

            setAnswer(id, val) {
                state.answers[id] = val;
                this.render();
            },

            isSectionComplete() {
                const section = SECTIONS[state.currentSectionIdx];
                const sectionQs = QUESTIONS.filter(q => q.cat === section.id);
                return sectionQs.every(q => state.answers.hasOwnProperty(q.id));
            },

            next() {
                if (this.isSectionComplete()) {
                    state.currentSectionIdx++;
                    this.render();
                }
            },

            prev() {
                if (state.currentSectionIdx > 0) {
                    state.currentSectionIdx--;
                    this.render();
                }
            },

            viewResults() {
                const scores = this.calculateScores();
                const globalPct = scores.global;
                
                let profileTitle = "üßò Mode Tranquille";
                let profileDesc = "Tu sembles plut√¥t stable. Ton stress est sous contr√¥le.";
                let accentColor = "#4ade80";

                if (globalPct > 25) { 
                    profileTitle = "üéõÔ∏è Mode Ajustement"; 
                    profileDesc = "Quelques r√©glages sont n√©cessaires pour rester √† l'√©quilibre."; 
                    accentColor = "#FFD166"; // LS Yellow
                }
                if (globalPct > 50) { 
                    profileTitle = "‚ö° Mode Surcharge"; 
                    profileDesc = "Le stress prend trop de place. Il est temps de ralentir."; 
                    accentColor = "#FF4B5C"; // LS Red
                }
                if (globalPct > 75) { 
                    profileTitle = "üö® Mode Alerte"; 
                    profileDesc = "Niveau critique. Demande de l'aide et d√©l√®gue tes priorit√©s."; 
                    accentColor = "#b91c1c"; 
                }

                return `
                    <div class="animate-fade text-center">
                        <div class="mb-16">
                            <h2 class="text-6xl font-800 tracking-tighter uppercase mb-4">Ton <span class="text-[#FF4B5C]">Barom√®tre</span></h2>
                            <p class="text-slate-500 text-lg">Voici l'analyse de tes signaux de stress actuels.</p>
                        </div>

                        <div class="grid grid-cols-12 gap-12 items-start mb-16">
                            <!-- Gauge -->
                            <div class="col-span-4 bg-white p-10 rounded-[40px] border border-slate-100 shadow-xl relative overflow-hidden">
                                <div class="relative z-10">
                                    <div class="text-xs font-800 text-slate-400 uppercase mb-4 tracking-widest">Score Global</div>
                                    <div class="text-7xl font-800 mb-2" style="color: ${accentColor}">${globalPct}%</div>
                                    <div class="font-bold text-lg mb-6">${profileTitle}</div>
                                    <p class="text-sm text-slate-400 leading-relaxed">${profileDesc}</p>
                                </div>
                                <div class="absolute bottom-0 left-0 w-full h-2" style="background-color: ${accentColor}"></div>
                            </div>

                            <!-- Dimension Details -->
                            <div class="col-span-8 space-y-6 text-left">
                                ${SECTIONS.map(s => {
                                    const val = scores.dims[s.id];
                                    return `
                                        <div class="space-y-2">
                                            <div class="flex justify-between items-end">
                                                <span class="font-bold text-sm uppercase tracking-wider text-slate-700">${s.label}</span>
                                                <span class="font-800 text-slate-400 text-xs">${val}%</span>
                                            </div>
                                            <div class="progress-bar-bg"><div class="progress-bar-fill" style="width: ${val}%"></div></div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <!-- Action Plan -->
                        <div class="bg-slate-50 p-12 rounded-[50px] border border-slate-100 mb-12 text-left">
                            <h3 class="text-2xl font-800 uppercase mb-8 flex items-center gap-3">
                                <i data-lucide="check-circle" class="text-ls-turquoise"></i>
                                Ton Plan de R√©gulation Rapide
                            </h3>
                            <div class="grid grid-cols-3 gap-8">
                                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                                    <h4 class="font-bold text-ls-red mb-2 uppercase text-xs tracking-widest">Action n¬∞1</h4>
                                    <p class="text-sm text-slate-600 italic">"Teste la respiration 4-4-6 (inspire 4s, bloque 4s, expire 6s) trois fois par jour."</p>
                                </div>
                                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                                    <h4 class="font-bold text-ls-yellow mb-2 uppercase text-xs tracking-widest">Action n¬∞2</h4>
                                    <p class="text-sm text-slate-600 italic">"D√©coupe ta t√¢che prioritaire en 3 mini-√©tapes de 10 minutes maximum."</p>
                                </div>
                                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                                    <h4 class="font-bold text-ls-turquoise mb-2 uppercase text-xs tracking-widest">Action n¬∞3</h4>
                                    <p class="text-sm text-slate-600 italic">"Identifie une personne 'ressource' √† qui parler si la jauge d√©passe 60%."</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-center gap-4 no-print">
                            <button onclick="window.print()" class="px-12 py-5 border-2 border-slate-200 rounded-full font-bold uppercase text-xs flex items-center gap-3 hover:bg-slate-50 transition-all text-slate-400">
                                <i data-lucide="download" class="w-5 h-5"></i> Exporter mes r√©sultats
                            </button>
                            <button onclick="location.reload()" class="px-12 py-5 btn-primary font-800 uppercase tracking-widest">Recommencer l'atelier</button>
                        </div>
                    </div>
                `;
            },

            calculateScores() {
                const res = { global: 0, dims: {} };
                let totalPoints = 0;
                let maxPoints = QUESTIONS.length * 2;

                SECTIONS.forEach(s => {
                    const sectionQs = QUESTIONS.filter(q => q.cat === s.id);
                    let sectionPoints = 0;
                    sectionQs.forEach(q => sectionPoints += (state.answers[q.id] || 0));
                    res.dims[s.id] = Math.round((sectionPoints / (sectionQs.length * 2)) * 100);
                    totalPoints += sectionPoints;
                });

                res.global = Math.round((totalPoints / maxPoints) * 100);
                return res;
            }
        };

        window.onload = () => app.init();
    </script>
</body>
</html>
